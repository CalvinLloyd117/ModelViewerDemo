<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Title</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Archivo+Black|Lato:400&display=swap" rel="stylesheet">
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <nav class="primary-nav">
        <ul class="indexNav">
            <li><a href="index.html" class="button navButton nowrap">Basics</a>
            </li>
            <li><a href="animation.html" class="button navButton nowrap navItemPA">Animation</a>
            </li>
            <li><a href="camera.html" class="button navButton nowrap">Camera</a>
            </li>
            <li><a href="loading.html" class="button navButton nowrap">Loading</a>
            </li>
            <li><a href="environment.html" class="button navButton nowrap">Environment</a>
            </li>
            <li><a href="annotation.html" class="button navButton nowrap">Hotspots</a>
            </li>
            <li><a href="ar.html" class="button navButton nowrap">AR</a>
            </li>
            <li><a href="more.html" class="button navButton nowrap">Performance and Compatability</a>
            </li>
        </ul>
    </nav>
    <div class="wrapper">
        <div class="grid-parent">
            <div class="text-container">
                <h1>Autoplay Animations</h1>
                <p>Animations can be played automatically by including the <i>autoplay</i> tag in Model-Viewer</p>
                <p>This will play the first animation that the .gltf model has by default. </p>
                <p>In the case of the bee, there is only one animation present on the model.</p>
            </div>
            <div class="model-container">
                <model-viewer src="./models/Bee/bee.glb" auto-rotate autoplay camera-controls exposure="0.2" interaction-policy="allow-when-focused" alt="A 3D model of a Blackfoot Knife">
                </model-viewer>
            </div>
            <div class="text-container">
                <h1>Selecting Specific Animations</h1>
                <p>It is also simple to select a specific animation that you wish to play.</p>
                <p>To play a specific animation, include the model-viewer <i>animation-name</i> attribute, as well as the name of the specific animation. In this case, the Dragon.gltf model has an animation called "running".</p>
                <P>ex. animation-name="running"</P>
            </div>
            <div class="model-container">
                <model-viewer class="default" src="./models/Dragon/Dragon.gltf" auto-rotate autoplay animation-name="running" camera-controls shadow-intensity="5" exposure="0.2" interaction-policy="allow-when-focused" alt="A 3D model of a Blackfoot Knife">
                </model-viewer>
            </div>
            <div class="text-container">
                <h1>Cycling Animations</h1>
                <p>Animations can be cycled through aswell. In this case, the Venus Flytrap has two animations: <i>idle</i> and <i>attack</i> which can be cycled through on a timer.</p>
                <p>There are timing issues when attempting to cycle through more than 2 animations. I do think it would be possible to do, I just decided to move on after testing the animation cycling on the Dragon (which has 3 animations).</p>
            </div>
            <div class="model-container">
                <model-viewer class="default" id="cyclingAnimations" src="./models/VenusFT/Venusflytrap.gltf" auto-rotate autoplay camera-controls shadow-intensity="5" exposure="0.2" interaction-policy="allow-when-focused" animation-name="attack" alt="A 3D model of a Blackfoot Knife">
                </model-viewer>
                <script>
                    (() => {
                        const modelViewer = document.querySelector('#cyclingAnimations');

                        self.setInterval(() => {
                            modelViewer.animationName = modelViewer.animationName === 'idle' ?
                                'attack' : 'idle';
                        }, 10000);
                    })();
                </script>
            </div>
            <div class="text-container">
                <h1>Changing Animations</h1>
                <p>Something that I discoved was the ability to change animations manually using radio-box selection. Using radio boxes, animations can be changed on the fly.</p>
                <input type="radio" id="idle" name="animation" value="idle" checked> <label for="idle">Idle</label><br>
                <input type="radio" id="running" name="animation" value="running"> <label for="running">Running</label><br>
                <input type="radio" id="flying" name="animation" value="flying"> <label for="flying">Flying</label><br>
                <p>While it may not be obvious at first, when the flying radio box is selected the dragon actually goes up, close to outside of the viewport. Luckily, the <i>camera-target</i> attribute can be changed to compensate.</p>
                <p>ex. $('#changingAnimations').attr('camera-target', '0m 0.4m 0m')</p>
            </div>
            <div class="model-container">
                <model-viewer id="changingAnimations" class="default" src="./models/Dragon/Dragon.gltf" camera-target="0m 0m 0m" auto-rotate autoplay animation-name="idle" camera-controls shadow-intensity="5" exposure="0.2" interaction-policy="allow-when-focused" alt="A 3D model of a Blackfoot Knife">
                </model-viewer>
                <script>
                    (() => {
                        const modelViewer = document.querySelector('#changingAnimations');
                        $('#idle').click(function() {
                            console.log("idle clicked")
                            modelViewer.animationName = 'idle'
                                //$('#changingAnimations').attr('animation-name', 'idle')
                            $('#changingAnimations').attr('camera-target', '0m 0m 0m')
                        });
                        $('#running').click(function() {
                            console.log("running clicked")
                            modelViewer.animationName = 'running'
                            $('#changingAnimations').attr('camera-target', '0m 0m 0m')
                        });
                        $('#flying').click(function() {
                            console.log("flying clicked")
                            modelViewer.animationName = 'flying'
                            $('#changingAnimations').attr('camera-target', '0m 0.4m 0m')
                        });
                    })();
                </script>
            </div>
        </div>
    </div>
    <script src="js/scripts.js"></script>
    <!-- ðŸ’ Include both scripts below to support all browsers! -->

    <!-- Loads <model-viewer> for modern browsers: -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js">
    </script>

    <!-- Loads <model-viewer> for old browsers like IE11: -->
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js">
    </script>
</body>

</html>